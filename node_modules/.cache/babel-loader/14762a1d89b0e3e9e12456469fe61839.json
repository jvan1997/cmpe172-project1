{"ast":null,"code":"var _jsxFileName = \"/Users/jonVan/Desktop/GitHub/CMPE172/test/client/src/components/load-posts.js\";\nimport React, { Component } from 'react';\nimport { API, Auth } from \"aws-amplify\";\nexport default class LoadPost extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      posts: []\n    };\n    this.renderPosts = this.renderPosts.bind(this);\n    this.hasAuthenticated = this.props.hasAuthenticated.bind(this);\n  }\n\n  componentDidMount() {\n    this.onLoad();\n  }\n\n  renderPosts() {\n    return;\n  }\n\n  async onLoad() {\n    try {\n      await Auth.currentSession();\n      this.hasAuthenticated();\n      let returns = await this.getPosts();\n      this.setState({\n        posts: returns,\n        isLoading: false\n      });\n      console.log(returns);\n    } catch (e) {\n      alert(e);\n    }\n\n    console.log(this.props.isAuthenticated);\n  }\n\n  getPosts() {\n    return API.get(\"posts\", \"/posts\");\n  }\n\n  render() {\n    console.log(this.state.isLoading);\n    return !this.props.isAuthenticated ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Home page - please login for posts\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Logged In: here are your posts\"), !this.state.isLoading && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      class: \"text-left w-full border-collapse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      class: \"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"City\"), React.createElement(\"th\", {\n      class: \"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/jonVan/Desktop/GitHub/CMPE172/test/client/src/components/load-posts.js"],"names":["React","Component","API","Auth","LoadPost","constructor","props","state","isLoading","posts","renderPosts","bind","hasAuthenticated","componentDidMount","onLoad","currentSession","returns","getPosts","setState","console","log","e","alert","isAuthenticated","get","render"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAASC,GAAT,EAAcC,IAAd,QAA0B,aAA1B;AAEA,eAAe,MAAMC,QAAN,SAAuBH,SAAvB,CAAgC;AAC3CI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAC,IADD;AAETC,MAAAA,KAAK,EAAC;AAFG,KAAb;AAIA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,gBAAL,GAAwB,KAAKN,KAAL,CAAWM,gBAAX,CAA4BD,IAA5B,CAAiC,IAAjC,CAAxB;AACH;;AACDE,EAAAA,iBAAiB,GAAE;AACf,SAAKC,MAAL;AACH;;AACDJ,EAAAA,WAAW,GAAE;AACT;AACH;;AACD,QAAMI,MAAN,GAAe;AACX,QAAG;AACH,YAAMX,IAAI,CAACY,cAAL,EAAN;AACA,WAAKH,gBAAL;AACA,UAAII,OAAO,GAAG,MAAM,KAAKC,QAAL,EAApB;AACA,WAAKC,QAAL,CAAc;AAACT,QAAAA,KAAK,EAACO,OAAP;AAAeR,QAAAA,SAAS,EAAC;AAAzB,OAAd;AACAW,MAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACC,KAND,CAOA,OAAMK,CAAN,EAAQ;AACJC,MAAAA,KAAK,CAACD,CAAD,CAAL;AACH;;AACDF,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAL,CAAWiB,eAAvB;AAEL;;AACDN,EAAAA,QAAQ,GAAE;AACN,WAAQf,GAAG,CAACsB,GAAJ,CAAQ,OAAR,EAAiB,QAAjB,CAAR;AACH;;AACCC,EAAAA,MAAM,GAAG;AACLN,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWC,SAAvB;AACA,WACI,CAAC,KAAKF,KAAL,CAAWiB,eAAZ,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAAL,CADG,GAEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADJ,EAES,CAAC,KAAKhB,KAAL,CAAWC,SAAZ,IACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAO,MAAA,KAAK,EAAC,kCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,KAAK,EAAC,kGAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAI,MAAA,KAAK,EAAC,kGAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CADF,CADkB,EAOlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPkB,CADR,CAHR,CAHA;AAoBH;;AAvD0C","sourcesContent":["import React,{Component} from 'react';\nimport { API, Auth } from \"aws-amplify\";\n\nexport default class LoadPost extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            isLoading:true,\n            posts:[],\n        }\n        this.renderPosts = this.renderPosts.bind(this);\n        this.hasAuthenticated = this.props.hasAuthenticated.bind(this);\n    }\n    componentDidMount(){\n        this.onLoad();\n    }\n    renderPosts(){\n        return;\n    }\n    async onLoad() {\n        try{\n        await Auth.currentSession();\n        this.hasAuthenticated();\n        let returns = await this.getPosts();\n        this.setState({posts:returns,isLoading:false});\n        console.log(returns);\n        }\n        catch(e){\n            alert(e)\n        }\n        console.log(this.props.isAuthenticated);\n    \n  }\n  getPosts(){\n      return  API.get(\"posts\", \"/posts\");\n  }\n    render() {\n        console.log(this.state.isLoading);\n        return(\n            !this.props.isAuthenticated ?\n        (<div><p>Home page - please login for posts</p></div>):(\n        <div>\n            <p>Logged In: here are your posts</p>\n                {!this.state.isLoading &&\n                <div>\n                        <table class=\"text-left w-full border-collapse\"> \n      <thead>\n        <tr>\n          <th class=\"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\">City</th>\n          <th class=\"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n          </tbody>\n          </table>\n                </div> }\n        </div>)\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}