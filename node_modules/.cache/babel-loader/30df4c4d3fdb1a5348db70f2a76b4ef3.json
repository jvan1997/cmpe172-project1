{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jonVan/Desktop/GitHub/cmpe172-project1/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jonVan/Desktop/GitHub/cmpe172-project1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/jonVan/Desktop/GitHub/cmpe172-project1/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/jonVan/Desktop/GitHub/cmpe172-project1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jonVan/Desktop/GitHub/cmpe172-project1/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jonVan/Desktop/GitHub/cmpe172-project1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jonVan/Desktop/GitHub/cmpe172-project1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/jonVan/Desktop/GitHub/cmpe172-project1/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/jonVan/Desktop/GitHub/cmpe172-project1/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Auth}from\"aws-amplify\";import ReactLoading from'react-loading';import FacebookButton from\"../components/FacebookButton\";var LoginUser=/*#__PURE__*/function(_Component){_inherits(LoginUser,_Component);function LoginUser(props){var _this;_classCallCheck(this,LoginUser);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginUser).call(this,props));_this.handleFbLogin=function(){_this.props.hasAuthenticated(true);_this.props.history.push(\"/\");};_this.state={username:'',password:'',isLoading:false};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.validateForm=_this.validateForm.bind(_assertThisInitialized(_this));_this.hasAuthenticated=_this.props.hasAuthenticated.bind(_assertThisInitialized(_this));_this.setIsLoading=_this.setIsLoading.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginUser,[{key:\"validateForm\",value:function validateForm(){return this.state.username.length>0&&this.state.password.length>0;}},{key:\"setIsLoading\",value:function setIsLoading(){this.setState({isLoading:true});}},{key:\"onChange\",value:function onChange(e){console.log(e.target.value);this.setState(_defineProperty({},e.target.id,e.target.value));}},{key:\"onSubmit\",value:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('thsi is goind it');event.preventDefault();this.setIsLoading();console.log(this.props);_context.prev=4;_context.next=7;return Auth.signIn(this.state.username,this.state.password);case 7:this.props.hasAuthenticated(true);this.props.history.push(\"/\");_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);alert(_context.t0.message);console.log(_context.t0);this.setState({isLoading:false});case 16:case\"end\":return _context.stop();}}},_callee,this,[[4,11]]);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"flex items-center h-full w-full\"},React.createElement(\"div\",{className:\"container-sm w-full-w/o-margins max-w-sm mx-auto mt-1/10 bg-white text-center rounded\"},React.createElement(\"h3\",null,\"Login User\"),React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"label\",null,\"Username: \"),React.createElement(\"div\",{className:\"flex flex-col w-full mb-4 items-center\"},React.createElement(\"input\",{className:\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\",id:\"username\",onChange:this.onChange,type:\"email\",value:this.state.username,placeholder:\"Enter email\"})),React.createElement(\"label\",null,\"Password \"),React.createElement(\"div\",{className:\"flex flex-col w-full mb-4 items-center\"},React.createElement(\"input\",{className:\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\",id:\"password\",onChange:this.onChange,type:\"password\",value:this.state.password,placeholder:\"Enter email\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"submit\",value:\"Login\",disabled:!this.validateForm(),className:\"font-boldcursor-pointer border border-solid p-2 border-green-600 rounded text-gray-700\"}))),React.createElement(\"hr\",null),this.state.isLoading&&React.createElement(\"div\",{className:\"text-center items-center justify-center flex\"},React.createElement(ReactLoading,{type:\"bars\",color:\"#38a169\",height:'20%',width:'20%'}))));}}]);return LoginUser;}(Component);export{LoginUser as default};","map":{"version":3,"sources":["/Users/jonVan/Desktop/GitHub/cmpe172-project1/src/components/login-user.js"],"names":["React","Component","Auth","ReactLoading","FacebookButton","LoginUser","props","handleFbLogin","hasAuthenticated","history","push","state","username","password","isLoading","onChange","bind","onSubmit","validateForm","setIsLoading","length","setState","e","console","log","target","value","id","event","preventDefault","signIn","alert","message"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { Auth } from \"aws-amplify\";\nimport ReactLoading from 'react-loading';\nimport FacebookButton from \"../components/FacebookButton\";\nexport default class LoginUser extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            username:'',\n            password:'',\n            isLoading: false,\n\n        }\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.validateForm = this.validateForm.bind(this);\n        this.hasAuthenticated = this.props.hasAuthenticated.bind(this);\n        this.setIsLoading=this.setIsLoading.bind(this);\n    }\n    validateForm() {\n        return this.state.username.length > 0 && this.state.password.length > 0;\n      }\n    setIsLoading(){\n        this.setState({isLoading:true});\n    }\n    onChange(e){\n        console.log(e.target.value);\n        this.setState({\n            [e.target.id]:e.target.value\n        });\n    }\n    handleFbLogin = () => {\n  this.props.hasAuthenticated(true);\n            this.props.history.push(\"/\");\n\n};\n    async onSubmit(event) {\n      console.log('thsi is goind it');\n        event.preventDefault();\n        this.setIsLoading();\n      console.log(this.props);\n        try {\n          await Auth.signIn(this.state.username, this.state.password);\n          this.props.hasAuthenticated(true);\n          this.props.history.push(\"/\");\n\n        } catch (e) {\n          alert(e.message);\n          console.log(e);\n            this.setState({isLoading:false});\n\n        }\n      }\n    render() {\n        return(\n            <div className=\"flex items-center h-full w-full\">\n                <div className=\"container-sm w-full-w/o-margins max-w-sm mx-auto mt-1/10 bg-white text-center rounded\">\n            <h3>Login User</h3>\n            <form onSubmit={this.onSubmit}>\n                <label>Username: </label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                            <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"username\" onChange={this.onChange} type=\"email\" value={this.state.username}placeholder=\"Enter email\" />\n                </div>\n                <label>Password </label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                            <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"password\" onChange={this.onChange} type=\"password\" value={this.state.password}placeholder=\"Enter email\" />\n                </div>\n              <div className=\"form-group\">\n                <input type=\"submit\" value=\"Login\"  disabled={!this.validateForm()} className=\"font-boldcursor-pointer border border-solid p-2 border-green-600 rounded text-gray-700\" />\n              </div>\n            </form>\n            {/* <FacebookButton\n  onLogin={this.handleFbLogin}\n/> */}\n<hr />\n            {this.state.isLoading &&\n                <div className=\"text-center items-center justify-center flex\">\n                <ReactLoading type={\"bars\"} color={\"#38a169\"} height={'20%'} width={'20%'} />\n                </div>\n            }\n          </div>\n          </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}