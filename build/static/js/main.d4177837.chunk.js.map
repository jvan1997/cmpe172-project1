{"version":3,"sources":["components/FacebookButton.js","components/login-user.js","components/register-user.js","components/create-post.js","components/edit-post.js","components/load-posts.js","components/view-post.js","config.js","components/error.js","App.js","serviceWorker.js","index.js"],"names":["Component","LoginUser","props","handleFbLogin","hasAuthenticated","history","push","state","username","password","isLoading","onChange","bind","onSubmit","validateForm","setIsLoading","this","length","setState","e","console","log","target","value","id","event","preventDefault","Auth","signIn","alert","message","className","type","placeholder","disabled","color","height","width","RegisterUser","name","lastname","newUser","confirmationCode","adminP","submitCode","validCode","confirmSignUp","data","attributes","family_name","profile","signUp","CreatePost","onChangeHandler","file","files","window","size","selectedFile","hasFile","content","title","date","Date","price","image","users","noUser","currentAuthenticatedUser","then","user","filename","now","Storage","vault","put","contentType","stored","key","s3Upload","fileKey","post","firstname","createPost","API","body","required","description","EditPost","LoadPost","posts","renderPosts","onLoad","returns","current","item","class","createdAt","toLocaleString","updatedAt","nodeId","onClick","goTo","currentSession","getAdminPosts","getPosts","isAuthenticated","get","ViewPost","holder","editPost","loaded","edit","deleting","userInfo","changePost","handleChange","postId","match","params","loadNote","attachment","attachmentURL","post2","cloneDeep","failed","confirm","userId","del","newChange","undefined","isUpdating","location","startDelete","newSave","MAX_ATTACHMENT_SIZE","process","REACT_APP_STAGE","s3","REGION","BUCKET","apiGateway","URL","cognito","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","NotFound","App","handleLogout","signOut","reload","path","to","exact","render","component","Error","React","withRouter","Boolean","hostname","browserHistory","createBrowserHistory","Amplify","configure","mandatorySignIn","region","config","userPoolId","identityPoolId","userPoolWebClientId","bucket","endpoints","endpoint","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d4177837.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Auth } from \"aws-amplify\";\n\nfunction waitForInit() {\n  return new Promise((res, rej) => {\n    const hasFbLoaded = () => {\n      if (window.FB) {\n        res();\n      } else {\n        setTimeout(hasFbLoaded, 300);\n      }\n    };\n    hasFbLoaded();\n  });\n}\n\nexport default class FacebookButton extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true\n    };\n  }\n\n  async componentDidMount() {\n    await waitForInit();\n    this.setState({ isLoading: false });\n  }\n\n  statusChangeCallback = response => {\n    if (response.status === \"connected\") {\n        console.log(response);\n      this.handleResponse(response.authResponse);\n    } else {\n      this.handleError(response);\n    }\n  };\n\n  checkLoginState = () => {\n    window.FB.getLoginStatus(this.statusChangeCallback);\n  };\n\n  handleClick = () => {\n    window.FB.login(this.checkLoginState, {scope: \"public_profile,email\"});\n  };\n\n  handleError(error) {\n    alert(error);\n  }\n\n  async handleResponse(data) {\n    const { userID, accessToken: token, expiresIn } = data;\n    const expires_at = expiresIn * 1000 + new Date().getTime();\n    const user = { userID };\n    console.log(userID);\n    console.log(\"data\", data);\n    this.setState({ isLoading: true });\n    \n    try {\n      const response = await Auth.federatedSignIn(\n        \"facebook\",\n        { token, expires_at },\n        user\n      );\n      this.setState({ isLoading: false });\n      this.props.onLogin(response);\n      console.log(response);\n    } catch (e) {\n      this.setState({ isLoading: false });\n      this.handleError(e);\n    }\n  }\n\n  render() {\n    return (\n      <button\n        className=\"mt-4 w-full h-10 bg-blue-700 rounded text-white\"\n        onClick={this.handleClick}\n        disabled={this.state.isLoading}\n      >Login with Facebook</button>\n    );\n  }\n}","import React,{Component} from 'react';\nimport { Auth } from \"aws-amplify\";\nimport ReactLoading from 'react-loading';\nimport FacebookButton from \"../components/FacebookButton\";\nexport default class LoginUser extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            username:'',\n            password:'',\n            isLoading: false,\n\n        }\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.validateForm = this.validateForm.bind(this);\n        this.hasAuthenticated = this.props.hasAuthenticated.bind(this);\n        this.setIsLoading=this.setIsLoading.bind(this);\n    }\n    validateForm() {\n        return this.state.username.length > 0 && this.state.password.length > 0;\n      }\n    setIsLoading(){\n        this.setState({isLoading:true});\n    }\n    onChange(e){\n        console.log(e.target.value);\n        this.setState({\n            [e.target.id]:e.target.value\n        });\n    }\n    handleFbLogin = () => {\n  this.props.hasAuthenticated(true);\n            this.props.history.push(\"/\");\n\n};\n    async onSubmit(event) {\n      console.log('thsi is goind it');\n        event.preventDefault();\n        this.setIsLoading();\n      console.log(this.props);\n        try {\n          await Auth.signIn(this.state.username, this.state.password);\n          this.props.hasAuthenticated(true);\n          this.props.history.push(\"/\");\n\n        } catch (e) {\n          alert(e.message);\n          console.log(e);\n            this.setState({isLoading:false});\n\n        }\n      }\n    render() {\n        return(\n            <div className=\"flex items-center h-full w-full\">\n                <div className=\"container-sm w-full-w/o-margins max-w-sm mx-auto mt-1/10 bg-white text-center rounded\">\n            <h3>Login User</h3>\n            <form onSubmit={this.onSubmit}>\n                <label>Username: </label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                            <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"username\" onChange={this.onChange} type=\"email\" value={this.state.username}placeholder=\"Enter email\" />\n                </div>\n                <label>Password </label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                            <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"password\" onChange={this.onChange} type=\"password\" value={this.state.password}placeholder=\"Enter email\" />\n                </div>\n              <div className=\"form-group\">\n                <input type=\"submit\" value=\"Login\"  disabled={!this.validateForm()} className=\"font-boldcursor-pointer border border-solid p-2 border-green-600 rounded text-gray-700\" />\n              </div>\n            </form>\n            {/* <FacebookButton\n  onLogin={this.handleFbLogin}\n/> */}\n<hr />\n            {this.state.isLoading &&\n                <div className=\"text-center items-center justify-center flex\">\n                <ReactLoading type={\"bars\"} color={\"#38a169\"} height={'20%'} width={'20%'} />\n                </div>\n            }\n          </div>\n          </div>\n        );\n    }\n}","import React,{Component} from 'react';\nimport { Auth } from \"aws-amplify\";\nimport ReactLoading from 'react-loading';\n\nexport default class RegisterUser extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            username:'',\n            password:'',\n            name: '',\n            lastname: '',\n            isLoading: false,\n            newUser: false,\n            confirmationCode: '',\n            adminP:'',\n\n        }\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.validateForm = this.validateForm.bind(this);\n        this.setIsLoading=this.setIsLoading.bind(this);\n        this.submitCode = this.submitCode.bind(this);\n        this.validCode = this.validCode.bind(this);\n        this.hasAuthenticated = this.props.hasAuthenticated.bind(this);\n\n    }\n    validateForm() {\n        return this.state.username.length > 0 && this.state.password.length > 0 && this.state.name.length>0 && this.state.lastname.length>0;\n      }\n    setIsLoading(){\n        this.setState({isLoading:true});\n    }\n    async submitCode(e){\n        e.preventDefault();\n        this.setIsLoading();\n        try {\n        await Auth.confirmSignUp(this.state.username, this.state.confirmationCode);\n        await Auth.signIn(this.state.username, this.state.password);\n\n        this.props.hasAuthenticated(true);\n        this.props.history.push(\"/\");\n        } catch (e) {\n        alert(e.message);\n        this.setState({isLoading:false})\n        }\n        console.log(this.state.confirmationCode);\n    }\n    validCode(){\n        return this.state.confirmationCode.length > 0;\n    }\n    onChange(e){\n        console.log(e.target.value);\n        this.setState({\n            [e.target.id]:e.target.value\n        });\n    }\n    async onSubmit(event) {\n        event.preventDefault();\n        let data ={\n                username: this.state.username,\n                password: this.state.password,\n                attributes: {\n                    family_name: this.state.lastname,\n                    name: this.state.name\n                }\n                };\n        if(this.state.adminP !== null && this.state.adminP === \"0000\"){\n            data.attributes.profile = \"admin\";\n        }\n        else if(this.state.adminP !== null && this.state.adminP === \"\"){\n            data.attributes.profile = \"user\";\n        }\n        else{\n            alert(\"Incorrect admin password, try again or remove the whole field.\");\n            return;\n        }\n        try {\n            this.setIsLoading();\n\n            await Auth.signUp(data);\n            this.setState({newUser:true});\n            this.setState({isLoading:false});\n        } catch (e) {\n          alert(e.message);\n            this.setState({isLoading:false});\n\n        }\n      }\n    render() {\n        return(\n            \n            <div className=\"flex items-center h-full w-full\">\n                <div className=\"container-sm w-full-w/o-margins max-w-sm mx-auto mt-1/10 bg-white text-center rounded\">\n            {this.state.newUser === false ?\n                (\n                    \n            <form onSubmit={this.onSubmit}>\n                <h3>Create New User</h3>\n\n                <label>Username: </label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                            <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"username\" onChange={this.onChange} type=\"email\" value={this.state.username}placeholder=\"Enter email\" />\n                </div>\n                <label>Name: </label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                            <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"name\" onChange={this.onChange} type=\"text\" value={this.state.name}placeholder=\"Enter first name\" />\n                </div>\n                <label>Last Name: </label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                            <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"lastname\" onChange={this.onChange} type=\"text\" value={this.state.lastname}placeholder=\"Enter last name\" />\n                </div>\n                <label>Password </label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                            <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"password\" onChange={this.onChange} type=\"password\" value={this.state.password}placeholder=\"Enter password\" />\n                </div>\n                <label>If you are an admin, enter the admin password</label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                            <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"adminP\" onChange={this.onChange} type=\"password\" value={this.state.adminP}placeholder=\"Enter password\" />\n                </div>\n              <div className=\"form-group\">\n                <input type=\"submit\" value=\"Create User\" disabled={!this.validateForm()} className=\"font-bold cursor-pointer border border-solid p-2 border-green-600 rounded text-gray-700\" />\n              </div>\n            {this.state.isLoading &&\n                <div className=\"text-center items-center justify-center flex\">\n                <ReactLoading type={\"bars\"} color={\"#38a169\"} height={'20%'} width={'20%'} />\n                </div>\n            }\n            </form>\n            \n                ):(\n          <div>\n                <h3>Confirmation Code</h3>\n                <h4>Please check your email for the code</h4>\n                <form onSubmit={this.submitCode}>\n                <label>Confirmation Code </label>\n                <div className=\"flex flex-col w-full mb-4 items-center\">\n                <input className=\"shadow appearance-none bg-white font-bold border border-solid border-green-600 w-full rounded h-14 py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline\"\n                    id=\"confirmationCode\" onChange={this.onChange} type=\"text\" value={this.state.confirmationCode}placeholder=\"Enter Code\" />\n                </div>\n                <div className=\"form-group\">\n                <input type=\"submit\" value=\"Submit Code\" disabled={!this.validCode()} className=\"font-bold cursor-pointer border border-solid p-2 border-green-600 rounded text-gray-700\" />\n              </div>\n                          {this.state.isLoading &&\n                <div className=\"text-center items-center justify-center flex\">\n                <ReactLoading type={\"bars\"} color={\"#38a169\"} height={'20%'} width={'20%'} />\n                </div>\n            }\n                </form>\n          </div>\n          ) }\n          </div>\n          \n                    </div>\n\n        );\n    }\n}","import React, {Component} from 'react';\nimport ReactLoading from 'react-loading';\nimport { Auth } from \"aws-amplify\";\nimport { API } from \"aws-amplify\";\nimport { Storage } from \"aws-amplify\";\n\nexport default class CreatePost extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            username:'',\n            content:'',\n            title:'',\n            date: new Date(),\n            price:0,\n            image:'',\n            users:[],\n            selectedFile: null,\n            hasFile: false,\n            isLoading: false,\n            noUser: true,\n        }\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n    componentDidMount(){\n        this.setState({\n            users:['testuser'],\n            username:'testuser'\n        })\n        try{\n        Auth.currentAuthenticatedUser()\n    .then(user => {\n        console.log(\"HI\");\n        console.log(user);\n        this.setState({noUser:false, name:user.attributes.name, lastname:user.attributes.family_name});})\n    }catch(e){\n      console.log(e);\n    }}\n    onChange(e){\n        this.setState({\n            [e.target.id]:e.target.value\n        });\n    }\n   async s3Upload(file) {\n  const filename = `${Date.now()}-${file.name}`;\n\n  const stored = await Storage.vault.put(filename, file, {\n    contentType: file.type\n  });\nconsole.log(stored.key);\n  return stored.key;\n}\n    async onSubmit(e){\n        e.preventDefault();\n        console.log(this.state);\n        if(this.state.content === '' || this.state.title === '' || this.state.file === null){\n          alert(\"Please fill out all fields\");\n          return;\n        }\n        \n      const fileKey = this.state.selectedFile ? await this.s3Upload(this.state.selectedFile)\n      : null;\n        this.setState({isLoading:true});\n        const post  ={\n            firstname:this.state.name,\n            lastname:this.state.lastname,\n            content:this.state.content,\n            title:this.state.title,\n            file:fileKey\n        }\n    try {\n        await this.createPost(post);\n        this.props.history.push(\"/\");\n      } catch (e) {\n        alert(e);\n        this.setState({isLoading:false});\n      }\n    \n        console.log(post);\n       // window.location = '/'\n    }\n    createPost(post) {\n      console.log(this.state.name,this.state.lastname,this.state.content);\n       console.log(post);\n        return API.post(\"posts\", \"/posts\", {\n            body:post\n        });\n}\n    onChangeHandler=event=>{\n        let file = event.target.files[0];\n    if (file && !file.name) {\n       window.alert(\"Please select a file\");\n       return false;\n    }\n    if (file.size > 10e6) {\n      window.alert(\"Please upload a file smaller than 10 MB\");\n      event.target.value = null;\n      return false;\n    }\n      console.log(event.target.files[0]);\n    this.setState({\n      selectedFile: event.target.files[0],\n      hasFile: true,\n    });\n\n  }\n    render() {\n        return(\n          \n            <div className=\"flex items-center h-full w-full\">\n              {this.state.noUser &&\n                <div><p>Please login/register to create a post</p></div>\n              }\n              {!this.state.noUser && \n            <div className=\"container-sm border-2 border-solid border-green-600 max-w-sm mx-auto mt-1/10 bg-white rounded p-10 shadow-lg\">\n                <p className=\"w-full block font-sans text-2xl font-bold text-center justify-center mb-14\">\n      Write new Post\n        </p>\n      <form onSubmit={this.onSubmit}>\n\n        <div className=\"items-center flex justify-center\"> \n          <label className=\"font-bold\">Title: </label>\n          <input  type=\"text\"\n            id=\"title\"\n              required\n              className=\"w-32 h-10 border border-solid border-green-600 rounded mb-4\"\n              value={this.state.description}\n              onChange={e => this.onChange(e)}\n              />\n        </div>\n        <div className=\"items-center flex justify-center\">\n          <label className=\"font-bold\">File: </label>\n           <input type=\"file\" id=\"file\" name=\"file\" className=\"w-auto border border-solid border-green-600 rounded mb-4 \"\n onChange={e => this.onChangeHandler(e)}/>\n        </div>\n        <div className=\"items-center block justify-center\">\n          <label className=\"font-bold\">Description: </label>\n          <div>\n              <textarea className=\"w-64 border border-solid border-green-700  rounded h-64 overflow-auto\" value={this.state.content} id=\"content\" onChange={e => this.onChange(e)}></textarea>\n          </div>\n        </div>\n\n        <div className=\"items-center flex justify-center\">\n          <input type=\"submit\" value=\"Create Post\" className=\"px-4 py-2 rounded border border-solid border-green-400\" />\n        </div>\n        {this.state.isLoading && \n        <div className=\"text-center items-center justify-center flex\">\n                <ReactLoading type={\"bars\"} color={\"#38a169\"} height={'20%'} width={'20%'} />\n                </div>\n              }\n      </form>\n    </div>\n    }\n    </div>\n    \n        );\n    }\n}","import React,{Component} from 'react';\n\nexport default class EditPost extends Component{\n    render() {\n        return(\n        <div><p>This edits a Post</p></div>\n        );\n    }\n}","import React,{Component} from 'react';\nimport { API, Auth } from \"aws-amplify\";\nexport default class LoadPost extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            isLoading:true,\n            posts:[],\n        }\n        this.renderPosts = this.renderPosts.bind(this);\n        this.hasAuthenticated = this.props.hasAuthenticated.bind(this);\n    }\n    componentDidMount(){\n        this.onLoad();\n    }\n    goTo(e){\n        this.props.history.push(`/post/${e.target.value}`);\n    }\n    renderPosts(){\n        let returns = [];\n        let current = this.state.posts;\n        for(let item in current){\n            let body = current[item];\n            returns.push(       \n            <tr class=\"hover:bg-grey-lighter\">\n            <td class=\"py-4 px-6 border-b border-grey-light\">{body.firstname}</td>\n            <td class=\"py-4 px-6 border-b border-grey-light\">{body.lastname}</td>\n            <td class=\"py-4 px-6 border-b border-grey-light\">{new Date(body.createdAt).toLocaleString()}</td>\n            <td class=\"py-4 px-6 border-b border-grey-light\">{new Date(body.updatedAt).toLocaleString()}</td>\n            <td class=\"py-4 px-6 border-b border-grey-light\">\n                <button value={body.nodeId} onClick={e => this.goTo(e)} className=\"text-gray-800 text-lg font-semibold hover:text-green-600 mr-4\">View Post</button>\n            </td>\n          </tr>\n          )\n            console.log(current[item]);\n        }\n        return returns;\n    }\n    async onLoad() {\n        try{\n        await Auth.currentSession();\n        let user = await Auth.currentAuthenticatedUser();\n        this.hasAuthenticated();\n        let returns;\n        if(user.attributes.profile === \"admin\"){\n            console.log(\"HERE\");\n            returns = await this.getAdminPosts();\n        }\n        else{\n            console.log(\"THERE\");\n\n            returns = await this.getPosts();\n        }\n        this.setState({posts:returns,isLoading:false});\n        console.log(returns);\n        }\n        catch(e){\n        }\n        console.log(this.props.isAuthenticated);\n    \n  }\n  getAdminPosts(){\n    return  API.get(\"posts\", \"/adminposts\");\n\n}\n  getPosts(){\n      return  API.get(\"posts\", \"/posts\");\n  }\n    render() {\n        console.log(this.state.isLoading);\n        return(\n            !this.props.isAuthenticated ?\n        (<div><p>Home page - please login for posts</p></div>):(\n        <div>\n            <p>Logged In: here are your posts</p>\n                {!this.state.isLoading &&\n                <div>\n                        <table class=\"text-left w-full border-collapse\"> \n      <thead>\n        <tr>\n            <th class=\"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\">FirstName</th>\n            <th class=\"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\">Last Name</th>\n            <th class=\"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\">Creation Date</th>\n            <th class=\"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\">Update Date</th>\n            <th class=\"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\">Go To File</th>\n        </tr>\n      </thead>\n      <tbody>\n          {this.renderPosts()}\n          </tbody>\n          </table>\n                </div> }\n        </div>)\n        );\n    }\n}","import React,{Component} from 'react';\nimport {API,Storage,Auth} from 'aws-amplify';\nimport ReactLoading from 'react-loading';\nimport cloneDeep from 'lodash/cloneDeep';\nexport default class ViewPost extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            post:null,\n            content:'',\n            loaded:false,\n            edit:false,\n            deleting:false,\n            userInfo: {},\n\n        }\n        this.changePost = this.changePost.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n        onChangeHandler=event=>{\n        let file = event.target.files[0];\n        if (file && !file.name) {\n        window.alert(\"Please select a file\");\n        return false;\n        }\n        if (file.size > 10e6) {\n        window.alert(\"Please upload a file smaller than 10 MB\");\n        event.target.value = null;\n        return false;\n        }\n        console.log(event.target.files[0]);\n        let holder = this.state.editPost;\n        holder.files = event.target.files[0];\n        console.log(holder);\n        this.setState({editPost:holder});\n}\n    componentDidMount(){\n        this.onLoad();\n    }\n    handleChange(e){\n        let holder = this.state.editPost;\n        holder[e.target.id] = e.target.value;\n        this.setState({editPost:holder});\n    }\n    async loadNote() {\n        console.log(\"hi?\");\n        let postId = this.props.match.params.id;\n        let user = await Auth.currentAuthenticatedUser();\n        console.log(user);\n        this.setState({userInfo:user.attributes});\n        if(user.attributes.profile === \"admin\"){\n            console.log(\"here\");\n            return API.get(\"posts\", `/adminposts/${postId}`);\n        }\n        else{\n            console.log(\"HER\");\n            return API.get(\"posts\", `/posts/${postId}`);\n        }\n        \n    }\n    async onLoad(){\n        try{\n        let post = await this.loadNote();\n        post = post.length === 1 ? post[0] : post;\n        if(post.attachment){\n            console.log(post.attachment);\n            post.attachmentURL = await Storage.vault.get(post.attachment);\n        }\n        let post2 = cloneDeep(post);\n        this.setState({post:post, loaded:true,editPost:post2});\n        console.log(this.state);\n    }\n    catch(e){\n        console.log(e);\n        this.setState({failed:true});\n    }\n\n    }\n    changePost(){\n\n        let current = this.state.editPost;\n        current.title = \"holder\";\n        this.setState({edit:true,editPost:current});\n                        console.log(this.state);\n\n\n    }\n       async s3Upload(file) {\n  const filename = `${Date.now()}-${file.name}`;\n\n  const stored = await Storage.vault.put(filename, file, {\n    contentType: file.type\n  });\nconsole.log(stored.key);\n  return stored.key;\n}\nasync startDelete(e){\n    e.preventDefault();\n    let decision = window.confirm(\n    \"Confirm deletion of this post.\"\n  );\n    if (!decision) {\n    return;\n  }\n  try {\n    this.setState({deleting:true});\n    let postId = this.props.match.params.id;\n    let post = {userId:this.state.post.userId};\n    console.log(post);\n    if(this.state.userInfo.profile === \"admin\"){\n        console.log(\"IN HERE\");\n        await API.del(\"posts\", `/adminposts/${postId}`, {\n            body:post\n        });\n    }\n    else{\n        await API.del(\"posts\", `/posts/${postId}`);\n    }\n\n    this.props.history.push(\"/\");\n  } catch (e) {\n    alert(e);\n    this.setState({deleting:false});\n  }\n}\n async newSave(e){\n        e.preventDefault();\n        let newChange = false;\n        for(let item in this.state.post){\n            if(this.state.post[item] !== this.state.editPost[item] || (this.state.editPost.files !== null && this.state.editPost.files !== undefined)){\n                newChange = true;\n            }\n        }\n        if(newChange === false){\n            alert(\"No new changes found or Empty field found\");\n            return;\n        }\n        if(newChange === true || (this.state.editPost.files !== null && this.state.editPost.files !== undefined)){\n            const fileKey = this.state.editPost.files ? await this.s3Upload(this.state.editPost.files)\n            : this.state.post.attachment;\n            console.log(fileKey);\n            this.setState({isUpdating:true});\n            const post  ={\n                firstname:this.state.editPost.firstname,\n                lastname:this.state.editPost.lastname,\n                content:this.state.editPost.content,\n                title:this.state.editPost.title,\n                file:fileKey\n            }\n            try{\n            let postId = this.props.match.params.id;\n\n            await API.put(\"posts\", `/posts/${postId}`, {\n            body:post\n        });\n            this.props.history.push('/');\n        }catch(e){\n            this.setState({isUpdating:false});\n            console.log(e);\n        }\n    }\n    }\n    render() {\n        return(\n        <div>\n            {this.state.failed &&\n            <div>\n                <p>Unauthorized access (need to login) or post does not exist</p>\n            </div>\n            }\n            {this.state.loaded && !this.state.edit &&\n            <div>\n                            <p>This views a Post</p>\n\n                <p>Title: {this.state.post.title}</p>     \n                <p>Name: {this.state.post.firstname + \" \" + this.state.post.lastname}</p>     \n                <p>Content: {this.state.post.content}</p>     \n                <p>Created: {new Date(this.state.post.createdAt).toLocaleString()}</p>\n               <p>Updated: {new Date(this.state.post.updatedAt).toLocaleString()}</p>\n                <div className=\"flex\"> \n                <p>Click to download file:</p>\n                <p onClick={() => window.location = this.state.post.attachmentURL}className=\"cursor-pointer text-blue-600 hover:text-blue-300\">{this.state.post.attachment}</p>\n                </div>\n                 {this.state.userInfo.profile !== \"admin\" && \n                 <button className=\"h-10 p-2 w-16 rounded text-white bg-green-600 ml-2 mr-2\" onClick={() => this.changePost()}>Edit</button>\n                 }\n                <button className=\"h-10 p-2 rounded text-white bg-red-500 ml-2 \" onClick={(e) => this.startDelete(e)}>Delete</button>\n                {this.state.deleting &&                \n                 <div className=\"text-center items-center justify-center flex\">\n                <ReactLoading type={\"bars\"} color={\"#c53030\"} height={'20%'} width={'20%'} />\n                </div>}\n            </div>\n        }\n        {this.state.loaded && this.state.edit &&\n            <div className=\"\">\n                <p>This edits a post</p>\n                <form className=\"\">\n                <label className=\"mb-2\">Title </label>\n                <div className=\"mb-4\"> \n                <input class=\"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"title\"  onChange={e => this.handleChange(e)}value={this.state.editPost.title} type=\"text\"/>\n                </div>\n                <label className=\"mb-2\">First Name</label>\n                <div className=\"mb-4\">                 \n                <input class=\"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"firstname\"  onChange={e => this.handleChange(e)}value={this.state.editPost.firstname} type=\"text\"/>\n                </div>\n                <label className=\"mb-2\">Last Name </label>\n                <div className=\"mb-4\"> \n                <input class=\"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"lastname\"  onChange={e => this.handleChange(e)}value={this.state.editPost.lastname} type=\"text\"/>\n                </div>\n                <label className=\"mb-2\">Content </label>\n                <div className=\"mb-4\"> \n                <input class=\"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"content\"  onChange={e => this.handleChange(e)}value={this.state.editPost.content} type=\"text\"/>\n                </div>\n                <div > \n                <p>Current file on reference:</p>\n                <p>Please note that if you upload and save a new file, this current file will be removed.</p>\n                <p onClick={() => window.location = this.state.post.attachmentURL}className=\"cursor-pointer text-blue-600 hover:text-blue-300\">{this.state.post.attachment}</p>\n                </div>\n                <div>\n                <label className=\"font-bold\">File: </label>\n                    <input type=\"file\" id=\"file\" name=\"file\" className=\"w-auto border border-solid border-green-600 rounded mb-4 \"\n                        onChange={e => this.onChangeHandler(e)}/>\n        \n                </div>\n                <button className=\"h-10 p-2 w-16 rounded text-white bg-black ml-2 mr-2\" onClick={() => this.setState({edit:false,editPost:cloneDeep(this.state.post)})}>Cancel</button>\n                <button value=\"Save\" className=\"h-10 p-2 rounded text-white bg-green-500 ml-2 \" onClick={(e) => this.newSave(e)}>Save </button>\n                </form>\n                {this.state.isUpdating &&                \n                 <div className=\"text-center items-center justify-center flex\">\n                <ReactLoading type={\"bars\"} color={\"#38a169\"} height={'20%'} width={'20%'} />\n                </div>}\n            </div>\n        }\n        </div>\n        );\n    }\n}","// export default {\n//     s3: {\n//       REGION: \"us-west-1\",\n//       BUCKET: \"project1cmpe172\"\n//     },\n//     apiGateway: {\n//       REGION: \"us-west-2\",\n//       URL: \"https://hrtm2qdvjl.execute-api.us-west-2.amazonaws.com/prod\"\n//     },\n//     cognito: {\n//       REGION: \"us-west-2\",\n//       USER_POOL_ID: \"us-west-2_wzB9vQASc\",\n//       APP_CLIENT_ID: \"54d8j17pp4mq9o2dq8m5p5c3mv\",\n//       IDENTITY_POOL_ID: \"us-west-2:2da7820c-2676-4af6-95d9-53423dd5ec8a\"\n//     },\n//     social:{\n//       FB: \"2628605577196325\",\n//     }\n//   };\nconst dev = {\n  s3: {\n    REGION: \"us-west-2\",\n    BUCKET: \"cmpe-172-proj2-api-dev-cmpe172bucket-1webiq0g7633m\"\n  },\n  apiGateway: {\n    REGION: \"us-west-2\",\n    URL: \"https://yxixu3zwyj.execute-api.us-west-2.amazonaws.com/dev\"\n  },\n  cognito: {\n    REGION: \"us-west-2\",\n    USER_POOL_ID: \"us-west-2_Qxo5EYjR8\",\n    APP_CLIENT_ID: \"7u8u3k53p18srgqvaibf2sfvss\",\n    IDENTITY_POOL_ID: \"us-west-2:f3434436-e43c-43ee-9c2b-8541e967cddf\"\n  }\n};\n\nconst prod = {\n  s3: {\n    REGION: \"us-west-2\",\n    BUCKET: \"cmpe-172-proj2-api-prod-cmpe172bucket-1iutvufkktsk0\"\n  },\n  apiGateway: {\n    REGION: \"us-west-2\",\n    URL: \"https://u7itb3clyk.execute-api.us-west-2.amazonaws.com/prod\"\n  },\n  cognito: {\n    REGION: \"us-west-2\",\n    USER_POOL_ID: \"us-west-2_gHJ5wFlgi\",\n    APP_CLIENT_ID: \"6v0oi2rvrl0fpqebfr6p00rj03\",\n    IDENTITY_POOL_ID: \"us-west-2:d8804d78-b5e4-4119-8bbb-012efffb8d2c\"\n  }\n};\n\n// Default to dev if not set\nconst config = process.env.REACT_APP_STAGE === 'prod'\n  ? prod\n  : dev;\n\nexport default {\n  // Add common config values here\n  MAX_ATTACHMENT_SIZE: 5000000,\n  ...config\n};\n","import React from \"react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"text-center\">\n      <h3>Sorry, page not found!</h3>\n    </div>\n  );\n}","import React from \"react\";\nimport './styles/tailwind.css';\nimport {BrowserRouter as Router,Route,Switch,Link,withRouter} from 'react-router-dom';\nimport LoginUser from './components/login-user';\nimport RegisterUser from './components/register-user';\nimport CreatePost from './components/create-post';\nimport EditPost from './components/edit-post';\nimport Posts from './components/load-posts';\nimport ViewPost from './components/view-post';                              \nimport config from './config';\nimport Error from './components/error';\n\nimport { Auth } from \"aws-amplify\";\n\n\nclass App extends React.Component {\t\n    constructor(props){\n        super(props)    \n        this.state ={\n            isAuthenticated:false,\n            name:'',\n            lastname:'',\n        }\n        this.hasAuthenticated = this.hasAuthenticated.bind(this);\n        this.handleLogout = this.handleLogout.bind(this);\n    }\n\n    componentWillMount(){\n        console.log(\"WHY\");\n        this.onLoad();\n    }\n\n async onLoad() {\n    try {\n        console.log(\"TRYING\");\n        await Auth.currentSession();\n        this.hasAuthenticated();\n    }\n    catch(e) {\n        if (e !== 'No current user') {\n        alert(e);\n        }\n    }\n\n    }\n    \n    hasAuthenticated(){\n        console.log(\"DID IT\");\n        Auth.currentAuthenticatedUser()\n        .then(user => {\n            console.log(\"USER\");\n            console.log(user);\n        this.setState({name:user.attributes.name, lastname:user.attributes.family_name, profile:user.attributes.profile});    \n        this.setState({isAuthenticated:true});\n    })\n    }\n    async handleLogout() {\n        await Auth.signOut();\n\n        this.setState({isAuthenticated:false})\n        console.log(this.state.isAuthenticated);\n        this.props.history.push(\"/login\");\n        window.location.reload();\n      }\n\trender() {\n        console.log(this.state);\n    \treturn (\n            <div>\n            <Router path=\"/App\" >\n            <nav className=\"flex flex-wrap w-full justify-center h-16 border-b-2 border-solid font-sans border-gray-300\">\n            <div class=\"flex items-center justify-end w-full px-6 font-bold\">\n              \n            <Link to=\"/\" className=\"text-gray-800 text-lg font-semibold hover:text-green-600 mr-4\">Home</Link>\n            {this.state.profile !== \"admin\" && <Link to=\"/create\" className=\"text-gray-800 text-lg font-semibold hover:text-green-600 mr-4\">Create Post</Link>}            {\n              this.state.isAuthenticated ?(\n                        <div class=\"hidden sm:flex sm:items-center\">\n\n          <button class=\"text-gray-800 text-lg font-semibold hover:text-green-600 mr-4\" onClick={this.handleLogout}>Logout</button>\n          </div>\n            )\n          :(\n            <div class=\"hidden sm:flex sm:items-center\">\n          <Link to=\"/login\" class=\"text-gray-800 text-lg font-semibold hover:text-green-600 mr-4\">Sign in</Link>\n          <Link to=\"/signup\" class=\"text-gray-800 text-lg font-semibold border px-4 py-2 rounded-lg hover:text-green-600 hover:border-green-600\">Sign up</Link>\n          </div> \n          )\n            }\n          </div>\n            \n      </nav>            <br/>\n                <Switch>\n\n                <Route exact path=\"/\" render={props => <Posts {...props} isAuthenticated={this.state.isAuthenticated} hasAuthenticated={this.hasAuthenticated}/>} />\n                <Route path=\"/edit/:id\" exact component={EditPost}/>\n                <Route path=\"/post/:id\" exact component={ViewPost}/>\n\n                <Route path=\"/create\" exact render ={props => <CreatePost {...props} firstname={this.name} family_name={this.family_name}/>}/>\n                <Route path=\"/signup\" exact render={props => <RegisterUser {...props} isAuthenticated={this.isAuthenticated} hasAuthenticated={this.hasAuthenticated}/>}/>\n\n                <Route path=\"/login\" render={props => <LoginUser {...props} isAuthenticated={this.state.isAuthenticated} hasAuthenticated={this.hasAuthenticated}/>}\n                />\n                <Route component={Error}/>\n                </Switch>\n            </Router >\n            </div>\n        )\n\t}\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './styles/tailwind.css';\nimport Amplify from 'aws-amplify';\nimport config from './config';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nconst browserHistory = createBrowserHistory();\nAmplify.configure({\n    Auth: {\n      mandatorySignIn: true,\n      region: config.cognito.REGION,\n      userPoolId: config.cognito.USER_POOL_ID,\n      identityPoolId: config.cognito.IDENTITY_POOL_ID,\n      userPoolWebClientId: config.cognito.APP_CLIENT_ID\n    },\n    Storage: {\n      region: config.s3.REGION,\n      bucket: config.s3.BUCKET,\n      identityPoolId: config.cognito.IDENTITY_POOL_ID\n    },\n    API: {\n      endpoints: [\n        {\n          name: \"posts\",\n          endpoint: config.apiGateway.URL,\n          region: config.apiGateway.REGION\n        },\n      ]\n    }\n  });\nReactDOM.render(\n<Router history={browserHistory}><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}